# Generated by Django 4.2.8 on 2025-12-08 15:41

from django.conf import settings
import django.contrib.auth.models
import django.contrib.auth.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Usuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='email address')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('tipo', models.CharField(choices=[('admin', 'Administrador'), ('socio', 'Sócio'), ('advogado', 'Advogado'), ('estagiario', 'Estagiário'), ('secretaria', 'Secretária'), ('financeiro', 'Financeiro'), ('outro', 'Outro')], default='advogado', max_length=20, verbose_name='Tipo de Usuário')),
                ('status', models.CharField(choices=[('ativo', 'Ativo'), ('inativo', 'Inativo'), ('ferias', 'Férias'), ('licenca', 'Licença')], default='ativo', max_length=20, verbose_name='Status')),
                ('oab', models.CharField(blank=True, max_length=20, null=True, verbose_name='Número da OAB')),
                ('telefone', models.CharField(blank=True, max_length=20, verbose_name='Telefone')),
                ('celular', models.CharField(blank=True, max_length=20, verbose_name='Celular')),
                ('avatar', models.ImageField(blank=True, null=True, upload_to='usuarios/avatars/', verbose_name='Avatar')),
                ('receber_notificacoes_email', models.BooleanField(default=True, verbose_name='Receber Notificações por E-mail')),
                ('pode_gerenciar_usuarios', models.BooleanField(default=False, verbose_name='Pode Gerenciar Usuários')),
                ('pode_gerenciar_clientes', models.BooleanField(default=True, verbose_name='Pode Gerenciar Clientes')),
                ('pode_gerenciar_processos', models.BooleanField(default=True, verbose_name='Pode Gerenciar Processos')),
                ('pode_gerenciar_financeiro', models.BooleanField(default=False, verbose_name='Pode Gerenciar Financeiro')),
                ('pode_gerenciar_whatsapp', models.BooleanField(default=False, verbose_name='Pode Gerenciar WhatsApp')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('ultimo_login', models.DateTimeField(blank=True, null=True, verbose_name='Último Login')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
            ],
            options={
                'verbose_name': 'Usuário',
                'verbose_name_plural': 'Usuários',
                'ordering': ['first_name', 'last_name'],
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='Andamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('audiencia', 'Audiência'), ('decisao', 'Decisão'), ('sentenca', 'Sentença'), ('recurso', 'Recurso'), ('intimacao', 'Intimação'), ('citacao', 'Citação'), ('publicacao', 'Publicação'), ('protocolo', 'Protocolo'), ('outro', 'Outro')], default='outro', max_length=20, verbose_name='Tipo')),
                ('data', models.DateField(verbose_name='Data do Andamento')),
                ('descricao', models.TextField(verbose_name='Descrição')),
                ('juiz', models.CharField(blank=True, max_length=200, verbose_name='Juiz')),
                ('resultado', models.TextField(blank=True, verbose_name='Resultado')),
                ('proximo_prazo', models.DateField(blank=True, null=True, verbose_name='Próximo Prazo')),
                ('documento', models.FileField(blank=True, null=True, upload_to='andamentos/%Y/%m/', verbose_name='Documento')),
                ('numero_documento', models.CharField(blank=True, max_length=100, verbose_name='Número do Documento')),
                ('capturado_automatico', models.BooleanField(default=False, verbose_name='Capturado Automaticamente')),
                ('importante', models.BooleanField(default=False, verbose_name='Importante')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
            ],
            options={
                'verbose_name': 'Andamento',
                'verbose_name_plural': 'Andamentos',
                'ordering': ['-data', '-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='Cliente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('pf', 'Pessoa Física'), ('pj', 'Pessoa Jurídica')], default='pf', max_length=2, verbose_name='Tipo')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome/Razão Social')),
                ('nome_social', models.CharField(blank=True, max_length=200, verbose_name='Nome Social')),
                ('apelido', models.CharField(blank=True, max_length=100, verbose_name='Apelido')),
                ('cpf_cnpj', models.CharField(blank=True, max_length=18, verbose_name='CPF/CNPJ')),
                ('rg', models.CharField(blank=True, max_length=20, verbose_name='RG')),
                ('orgao_emissor', models.CharField(blank=True, max_length=50, verbose_name='Órgão Emissor')),
                ('data_emissao_rg', models.DateField(blank=True, null=True, verbose_name='Data de Emissão RG')),
                ('inscricao_estadual', models.CharField(blank=True, max_length=20, verbose_name='Inscrição Estadual')),
                ('inscricao_municipal', models.CharField(blank=True, max_length=20, verbose_name='Inscrição Municipal')),
                ('data_nascimento', models.DateField(blank=True, null=True, verbose_name='Data de Nascimento')),
                ('estado_civil', models.CharField(blank=True, choices=[('solteiro', 'Solteiro(a)'), ('casado', 'Casado(a)'), ('divorciado', 'Divorciado(a)'), ('viuvo', 'Viúvo(a)'), ('separado', 'Separado(a)'), ('uniao_estavel', 'União Estável')], max_length=20, verbose_name='Estado Civil')),
                ('nacionalidade', models.CharField(default='Brasileira', max_length=100, verbose_name='Nacionalidade')),
                ('naturalidade', models.CharField(blank=True, max_length=100, verbose_name='Naturalidade')),
                ('profissao', models.CharField(blank=True, max_length=100, verbose_name='Profissão')),
                ('empresa_trabalho', models.CharField(blank=True, max_length=200, verbose_name='Empresa onde Trabalha')),
                ('cargo', models.CharField(blank=True, max_length=100, verbose_name='Cargo')),
                ('renda_mensal', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, verbose_name='Renda Mensal')),
                ('telefone', models.CharField(max_length=20, verbose_name='Telefone')),
                ('celular', models.CharField(blank=True, max_length=20, verbose_name='Celular')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-mail')),
                ('email_secundario', models.EmailField(blank=True, max_length=254, verbose_name='E-mail Secundário')),
                ('cep', models.CharField(max_length=10, verbose_name='CEP')),
                ('endereco', models.CharField(max_length=200, verbose_name='Endereço')),
                ('numero', models.CharField(max_length=10, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, verbose_name='Complemento')),
                ('bairro', models.CharField(max_length=100, verbose_name='Bairro')),
                ('cidade', models.CharField(max_length=100, verbose_name='Cidade')),
                ('estado', models.CharField(choices=[('AC', 'Acre'), ('AL', 'Alagoas'), ('AP', 'Amapá'), ('AM', 'Amazonas'), ('BA', 'Bahia'), ('CE', 'Ceará'), ('DF', 'Distrito Federal'), ('ES', 'Espírito Santo'), ('GO', 'Goiás'), ('MA', 'Maranhão'), ('MT', 'Mato Grosso'), ('MS', 'Mato Grosso do Sul'), ('MG', 'Minas Gerais'), ('PA', 'Pará'), ('PB', 'Paraíba'), ('PR', 'Paraná'), ('PE', 'Pernambuco'), ('PI', 'Piauí'), ('RJ', 'Rio de Janeiro'), ('RN', 'Rio Grande do Norte'), ('RS', 'Rio Grande do Sul'), ('RO', 'Rondônia'), ('RR', 'Roraima'), ('SC', 'Santa Catarina'), ('SP', 'São Paulo'), ('SE', 'Sergipe'), ('TO', 'Tocantins')], max_length=2, verbose_name='Estado')),
                ('banco', models.CharField(blank=True, max_length=100, verbose_name='Banco')),
                ('agencia', models.CharField(blank=True, max_length=10, verbose_name='Agência')),
                ('conta', models.CharField(blank=True, max_length=20, verbose_name='Conta')),
                ('tipo_conta', models.CharField(blank=True, choices=[('corrente', 'Conta Corrente'), ('poupanca', 'Conta Poupança'), ('salario', 'Conta Salário')], max_length=20, verbose_name='Tipo de Conta')),
                ('pix', models.CharField(blank=True, max_length=100, verbose_name='Chave PIX')),
                ('contato_emergencia_nome', models.CharField(blank=True, max_length=200, verbose_name='Nome do Contato de Emergência')),
                ('contato_emergencia_parentesco', models.CharField(blank=True, max_length=100, verbose_name='Parentesco')),
                ('contato_emergencia_telefone', models.CharField(blank=True, max_length=20, verbose_name='Telefone do Contato de Emergência')),
                ('como_conheceu', models.CharField(blank=True, max_length=200, verbose_name='Como Conheceu o Escritório')),
                ('indicado_por', models.CharField(blank=True, max_length=200, verbose_name='Indicado por')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('restricoes', models.TextField(blank=True, verbose_name='Restrições/Alertas')),
                ('foto', models.ImageField(blank=True, null=True, upload_to='clientes/', verbose_name='Foto')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('cliente_preferencial', models.BooleanField(default=False, verbose_name='Cliente Preferencial')),
                ('receber_newsletter', models.BooleanField(default=True, verbose_name='Receber Newsletter')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('atualizado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clientes_atualizados', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado por')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clientes_criados', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
            ],
            options={
                'verbose_name': 'Cliente',
                'verbose_name_plural': 'Clientes',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='ContratoHonorarios',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('sucesso', 'Honorários de Sucesso'), ('fixo', 'Honorários Fixos'), ('horista', 'Honorários Horistas'), ('misto', 'Misto (Fixo + Sucesso)')], default='sucesso', max_length=20, verbose_name='Tipo de Contrato')),
                ('forma_pagamento', models.CharField(choices=[('parcelado', 'Parcelado'), ('unico', 'Pagamento Único'), ('mensal', 'Mensal')], default='parcelado', max_length=20, verbose_name='Forma de Pagamento')),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor Total')),
                ('percentual_sucesso', models.DecimalField(decimal_places=2, default=0.0, help_text='Se for tipo sucesso ou misto', max_digits=5, verbose_name='Percentual de Sucesso')),
                ('valor_hora', models.DecimalField(decimal_places=2, default=0.0, help_text='Se for tipo horista', max_digits=8, verbose_name='Valor por Hora')),
                ('numero_parcelas', models.IntegerField(default=1, verbose_name='Número de Parcelas')),
                ('dia_vencimento', models.IntegerField(default=10, help_text='Dia do mês para vencimento das parcelas', verbose_name='Dia de Vencimento')),
                ('clausulas', models.TextField(verbose_name='Cláusulas do Contrato')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('contrato_pdf', models.FileField(blank=True, null=True, upload_to='contratos_honorarios/%Y/%m/', verbose_name='Contrato PDF')),
                ('assinado', models.BooleanField(default=False, verbose_name='Contrato Assinado')),
                ('data_assinatura', models.DateField(blank=True, null=True, verbose_name='Data de Assinatura')),
                ('ativo', models.BooleanField(default=True, verbose_name='Contrato Ativo')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contratos', to='core.cliente')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Contrato de Honorários',
                'verbose_name_plural': 'Contratos de Honorários',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='Escritorio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome do Escritório')),
                ('razao_social', models.CharField(max_length=200, verbose_name='Razão Social')),
                ('cnpj', models.CharField(blank=True, max_length=18, null=True, unique=True, verbose_name='CNPJ')),
                ('telefone', models.CharField(blank=True, max_length=20, verbose_name='Telefone')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='E-mail Principal')),
                ('endereco', models.TextField(blank=True, verbose_name='Endereço')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
            ],
            options={
                'verbose_name': 'Escritório',
                'verbose_name_plural': 'Escritórios',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='WhatsAppConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, verbose_name='Nome da Conexão')),
                ('numero_telefone', models.CharField(max_length=20, verbose_name='Número do WhatsApp')),
                ('provider', models.CharField(choices=[('evolution', 'Evolution API'), ('whapi', 'Whapi.cloud'), ('wppconnect', 'WPPConnect'), ('official', 'WhatsApp Business API Oficial'), ('venom', 'Venom (local)'), ('outro', 'Outro')], default='evolution', max_length=20, verbose_name='Provedor')),
                ('api_url', models.URLField(max_length=500, verbose_name='URL da API')),
                ('api_key', models.CharField(max_length=500, verbose_name='API Key/Token')),
                ('instance_name', models.CharField(blank=True, max_length=100, verbose_name='Nome da Instância')),
                ('instance_id', models.CharField(blank=True, max_length=100, verbose_name='ID da Instância')),
                ('webhook_url', models.URLField(blank=True, max_length=500, verbose_name='URL do Webhook')),
                ('webhook_secret', models.CharField(blank=True, max_length=100, verbose_name='Secret do Webhook')),
                ('status', models.CharField(choices=[('desconectado', 'Desconectado'), ('conectando', 'Conectando...'), ('conectado', 'Conectado'), ('qr_code', 'Aguardando QR Code'), ('erro', 'Erro na Conexão'), ('desconhecido', 'Status Desconhecido')], default='desconectado', max_length=20, verbose_name='Status')),
                ('qr_code', models.TextField(blank=True, verbose_name='QR Code (base64)')),
                ('qr_code_image', models.ImageField(blank=True, null=True, upload_to='whatsapp_qr/', verbose_name='Imagem do QR Code')),
                ('ultimo_erro', models.TextField(blank=True, verbose_name='Último Erro')),
                ('data_ultimo_erro', models.DateTimeField(blank=True, null=True, verbose_name='Data do Último Erro')),
                ('tentativas_conexao', models.IntegerField(default=0, verbose_name='Tentativas de Conexão')),
                ('ultima_conexao', models.DateTimeField(blank=True, null=True, verbose_name='Última Conexão Bem-sucedida')),
                ('tempo_medio_resposta', models.FloatField(default=0.0, verbose_name='Tempo Médio de Resposta (ms)')),
                ('mensagens_enviadas', models.IntegerField(default=0, verbose_name='Total de Mensagens Enviadas')),
                ('mensagens_recebidas', models.IntegerField(default=0, verbose_name='Total de Mensagens Recebidas')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('auto_responder', models.BooleanField(default=False, verbose_name='Auto Responder')),
                ('enviar_saudacao', models.BooleanField(default=True, verbose_name='Enviar Saudação Automática')),
                ('saudacao_mensagem', models.TextField(blank=True, default='Olá! Como posso ajudar?', verbose_name='Mensagem de Saudação')),
                ('horario_inicio', models.TimeField(default='09:00', verbose_name='Horário de Início')),
                ('horario_fim', models.TimeField(default='18:00', verbose_name='Horário de Fim')),
                ('funcionar_fim_semana', models.BooleanField(default=False, verbose_name='Funcionar no Fim de Semana')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='whatsapp_configs_criadas', to=settings.AUTH_USER_MODEL)),
                ('escritorio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='whatsapp_configs', to='core.escritorio')),
                ('usuarios_permitidos', models.ManyToManyField(blank=True, related_name='whatsapp_configs_permitidas', to=settings.AUTH_USER_MODEL, verbose_name='Usuários com Acesso')),
            ],
            options={
                'verbose_name': 'Configuração WhatsApp',
                'verbose_name_plural': 'Configurações WhatsApp',
                'ordering': ['-ativo', '-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='Processo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_cnj', models.CharField(help_text='Formato: NNNNNNN-DD.AAAA.J.TR.OOOO', max_length=25, unique=True, verbose_name='Número CNJ')),
                ('tipo', models.CharField(choices=[('trabalhista', 'Trabalhista'), ('civil', 'Cível'), ('criminal', 'Criminal'), ('previdenciario', 'Previdenciário'), ('tributario', 'Tributário'), ('familia', 'Família'), ('consumidor', 'Consumidor'), ('administrativo', 'Administrativo'), ('ambiental', 'Ambiental'), ('outro', 'Outro')], default='civil', max_length=20, verbose_name='Tipo')),
                ('situacao', models.CharField(choices=[('ativo', 'Ativo'), ('arquivado', 'Arquivado'), ('suspenso', 'Suspenso'), ('baixado', 'Baixado'), ('encerrado', 'Encerrado'), ('transitado', 'Transitado em Julgado')], default='ativo', max_length=20, verbose_name='Situação')),
                ('vara', models.CharField(max_length=200, verbose_name='Vara')),
                ('comarca', models.CharField(max_length=100, verbose_name='Comarca')),
                ('tribunal', models.CharField(max_length=100, verbose_name='Tribunal')),
                ('valor_causa', models.DecimalField(decimal_places=2, default=0.0, max_digits=15, verbose_name='Valor da Causa')),
                ('data_distribuicao', models.DateField(verbose_name='Data de Distribuição')),
                ('data_arquivamento', models.DateField(blank=True, null=True, verbose_name='Data de Arquivamento')),
                ('data_encerramento', models.DateField(blank=True, null=True, verbose_name='Data de Encerramento')),
                ('polo_ativo', models.TextField(blank=True, verbose_name='Polo Ativo (Autor/Requerente)')),
                ('polo_passivo', models.TextField(blank=True, verbose_name='Polo Passivo (Réu/Requerido)')),
                ('testemunhas', models.TextField(blank=True, verbose_name='Testemunhas')),
                ('objeto', models.TextField(verbose_name='Objeto do Processo')),
                ('honorarios', models.DecimalField(decimal_places=2, default=0.0, max_digits=10, verbose_name='Honorários Contratados')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('tags', models.CharField(blank=True, help_text='Separadas por vírgula', max_length=200, verbose_name='Tags')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('advogado_responsavel', models.ForeignKey(limit_choices_to={'tipo__in': ['admin', 'socio', 'advogado']}, on_delete=django.db.models.deletion.PROTECT, related_name='processos_responsavel', to=settings.AUTH_USER_MODEL)),
                ('atualizado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='processos_atualizados', to=settings.AUTH_USER_MODEL)),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='processos', to='core.cliente')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='processos_criados', to=settings.AUTH_USER_MODEL)),
                ('escritorio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='processos', to='core.escritorio')),
            ],
            options={
                'verbose_name': 'Processo',
                'verbose_name_plural': 'Processos',
                'ordering': ['-data_distribuicao', '-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='Prazo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200, verbose_name='Título')),
                ('descricao', models.TextField(verbose_name='Descrição')),
                ('tipo', models.CharField(choices=[('procesual', 'Processual'), ('administrativo', 'Administrativo'), ('contratual', 'Contratual'), ('legal', 'Legal'), ('outro', 'Outro')], default='procesual', max_length=20, verbose_name='Tipo')),
                ('prioridade', models.CharField(choices=[('baixa', 'Baixa'), ('media', 'Média'), ('alta', 'Alta'), ('urgente', 'Urgente')], default='media', max_length=10, verbose_name='Prioridade')),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('em_andamento', 'Em Andamento'), ('concluido', 'Concluído'), ('vencido', 'Vencido'), ('cancelado', 'Cancelado')], default='pendente', max_length=15, verbose_name='Status')),
                ('data_limite', models.DateField(verbose_name='Data Limite')),
                ('data_conclusao', models.DateField(blank=True, null=True, verbose_name='Data de Conclusão')),
                ('data_lembrete', models.DateField(blank=True, null=True, verbose_name='Data do Lembrete')),
                ('documento', models.FileField(blank=True, null=True, upload_to='prazos/%Y/%m/', verbose_name='Documento')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('dias_antecedencia_alerta', models.IntegerField(default=3, help_text='Dias antes do vencimento para enviar alertas', verbose_name='Dias de Antecedência para Alerta')),
                ('alertas_enviados', models.IntegerField(default=0, verbose_name='Alertas Enviados')),
                ('calculado_automatico', models.BooleanField(default=False, verbose_name='Calculado Automaticamente')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('andamento', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prazos_gerados', to='core.andamento')),
                ('atribuido_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prazos_atribuidos', to=settings.AUTH_USER_MODEL)),
                ('processo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='prazos', to='core.processo')),
                ('responsavel', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='prazos_responsavel', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Prazo',
                'verbose_name_plural': 'Prazos',
                'ordering': ['data_limite', '-prioridade'],
            },
        ),
        migrations.CreateModel(
            name='ParcelaHonorarios',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.IntegerField(verbose_name='Número da Parcela')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor')),
                ('data_vencimento', models.DateField(verbose_name='Data de Vencimento')),
                ('data_pagamento', models.DateField(blank=True, null=True, verbose_name='Data de Pagamento')),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('paga', 'Paga'), ('atrasada', 'Atrasada'), ('cancelada', 'Cancelada')], default='pendente', max_length=20, verbose_name='Status')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('contrato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas', to='core.contratohonorarios')),
            ],
            options={
                'verbose_name': 'Parcela de Honorários',
                'verbose_name_plural': 'Parcelas de Honorários',
                'ordering': ['numero'],
            },
        ),
        migrations.CreateModel(
            name='MensagemWhatsApp',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_contato', models.CharField(max_length=20, verbose_name='Número do Contato')),
                ('nome_contato', models.CharField(blank=True, max_length=100, verbose_name='Nome do Contato')),
                ('contato_id', models.CharField(blank=True, max_length=100, verbose_name='ID do Contato')),
                ('tipo', models.CharField(choices=[('texto', 'Texto'), ('imagem', 'Imagem'), ('video', 'Vídeo'), ('audio', 'Áudio'), ('documento', 'Documento'), ('sticker', 'Sticker'), ('contato', 'Contato'), ('localizacao', 'Localização'), ('link', 'Link'), ('outro', 'Outro')], default='texto', max_length=20, verbose_name='Tipo')),
                ('direcao', models.CharField(choices=[('entrada', 'Entrada'), ('saida', 'Saída')], max_length=10, verbose_name='Direção')),
                ('status', models.CharField(choices=[('enviando', 'Enviando'), ('enviado', 'Enviado'), ('entregue', 'Entregue'), ('lido', 'Lido'), ('erro', 'Erro'), ('aguardando', 'Aguardando')], default='enviado', max_length=20, verbose_name='Status')),
                ('conteudo', models.TextField(blank=True, verbose_name='Conteúdo')),
                ('legenda', models.TextField(blank=True, verbose_name='Legenda')),
                ('midia_url', models.URLField(blank=True, max_length=500, verbose_name='URL da Mídia')),
                ('midia_arquivo', models.FileField(blank=True, null=True, upload_to='whatsapp_midia/%Y/%m/', verbose_name='Arquivo de Mídia')),
                ('tipo_midia', models.CharField(blank=True, max_length=50, verbose_name='Tipo de Mídia')),
                ('tamanho_midia', models.IntegerField(default=0, verbose_name='Tamanho da Mídia (bytes)')),
                ('lida', models.BooleanField(default=False, verbose_name='Lida')),
                ('respondida_bot', models.BooleanField(default=False, verbose_name='Respondida por Bot')),
                ('message_id', models.CharField(blank=True, max_length=200, verbose_name='ID da Mensagem')),
                ('message_id_externo', models.CharField(blank=True, max_length=200, verbose_name='ID Externo')),
                ('latitude', models.FloatField(blank=True, null=True, verbose_name='Latitude')),
                ('longitude', models.FloatField(blank=True, null=True, verbose_name='Longitude')),
                ('duracao_audio', models.IntegerField(blank=True, null=True, verbose_name='Duração do Áudio (segundos)')),
                ('tempo_envio', models.DateTimeField(blank=True, null=True, verbose_name='Tempo de Envio')),
                ('tempo_entrega', models.DateTimeField(blank=True, null=True, verbose_name='Tempo de Entrega')),
                ('tempo_leitura', models.DateTimeField(blank=True, null=True, verbose_name='Tempo de Leitura')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('cliente', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mensagens_whatsapp', to='core.cliente')),
                ('mensagem_respondida', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='respostas', to='core.mensagemwhatsapp')),
                ('processo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mensagens_whatsapp', to='core.processo')),
                ('usuario_responsavel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='mensagens_whatsapp_responsaveis', to=settings.AUTH_USER_MODEL)),
                ('whatsapp_config', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mensagens', to='core.whatsappconfig')),
            ],
            options={
                'verbose_name': 'Mensagem WhatsApp',
                'verbose_name_plural': 'Mensagens WhatsApp',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='FluxoChatbot',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, verbose_name='Nome do Fluxo')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('tipo', models.CharField(choices=[('saudacao', 'Saudação Inicial'), ('atendimento', 'Atendimento'), ('processos', 'Consulta de Processos'), ('financeiro', 'Financeiro'), ('agendamento', 'Agendamento'), ('duvidas', 'Dúvidas Frequentes'), ('outro', 'Outro')], default='atendimento', max_length=20, verbose_name='Tipo')),
                ('palavras_chave', models.TextField(help_text='Uma por linha. Use * para curinga (ex: olá*, *prazo*)', verbose_name='Palavras-chave')),
                ('expressoes_regulares', models.TextField(blank=True, help_text='Regex para match mais preciso', verbose_name='Expressões Regulares')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('ordem', models.IntegerField(default=0, help_text='Menor executa primeiro', verbose_name='Ordem de Execução')),
                ('fluxo_json', models.JSONField(default=dict, help_text='Estrutura do fluxo em JSON', verbose_name='Fluxo')),
                ('responder_automaticamente', models.BooleanField(default=True, verbose_name='Responder Automaticamente')),
                ('transferir_humano', models.BooleanField(default=False, verbose_name='Transferir para Humano')),
                ('mensagem_transferencia', models.TextField(blank=True, verbose_name='Mensagem de Transferência')),
                ('validar_cliente', models.BooleanField(default=False, verbose_name='Validar se é Cliente')),
                ('solicitar_cpf', models.BooleanField(default=False, verbose_name='Solicitar CPF/CNPJ')),
                ('solicitar_numero_processo', models.BooleanField(default=False, verbose_name='Solicitar Número do Processo')),
                ('vezes_executado', models.IntegerField(default=0, verbose_name='Vezes Executado')),
                ('sucessos', models.IntegerField(default=0, verbose_name='Sucessos')),
                ('falhas', models.IntegerField(default=0, verbose_name='Falhas')),
                ('ultima_execucao', models.DateTimeField(blank=True, null=True, verbose_name='Última Execução')),
                ('tempo_medio_resposta', models.FloatField(default=0.0, verbose_name='Tempo Médio de Resposta (ms)')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('escritorio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fluxos_chatbot', to='core.escritorio')),
                ('usuario_transferencia', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fluxos_transferencia', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Fluxo de Chatbot',
                'verbose_name_plural': 'Fluxos de Chatbot',
                'ordering': ['ordem', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='Financeiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('receita', 'Receita'), ('despesa', 'Despesa'), ('transferencia', 'Transferência')], max_length=15, verbose_name='Tipo')),
                ('categoria', models.CharField(max_length=30, verbose_name='Categoria')),
                ('descricao', models.CharField(max_length=300, verbose_name='Descrição')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Valor')),
                ('valor_pago', models.DecimalField(decimal_places=2, default=0.0, max_digits=12, verbose_name='Valor Pago')),
                ('data_vencimento', models.DateField(verbose_name='Data de Vencimento')),
                ('data_pagamento', models.DateField(blank=True, null=True, verbose_name='Data de Pagamento/Recebimento')),
                ('data_competencia', models.DateField(blank=True, null=True, verbose_name='Data de Competência')),
                ('status', models.CharField(choices=[('pendente', 'Pendente'), ('pago', 'Pago/Recebido'), ('vencido', 'Vencido'), ('cancelado', 'Cancelado'), ('parcial', 'Parcialmente Pago')], default='pendente', max_length=15, verbose_name='Status')),
                ('forma_pagamento', models.CharField(blank=True, choices=[('dinheiro', 'Dinheiro'), ('pix', 'PIX'), ('transferencia', 'Transferência Bancária'), ('cartao_credito', 'Cartão de Crédito'), ('cartao_debito', 'Cartão de Débito'), ('boleto', 'Boleto'), ('cheque', 'Cheque'), ('deposito', 'Depósito'), ('outro', 'Outro')], max_length=20, verbose_name='Forma de Pagamento')),
                ('periodicidade', models.CharField(choices=[('unica', 'Única'), ('mensal', 'Mensal'), ('bimestral', 'Bimestral'), ('trimestral', 'Trimestral'), ('semestral', 'Semestral'), ('anual', 'Anual')], default='unica', max_length=15, verbose_name='Periodicidade')),
                ('banco', models.CharField(blank=True, max_length=100, verbose_name='Banco')),
                ('agencia', models.CharField(blank=True, max_length=10, verbose_name='Agência')),
                ('conta', models.CharField(blank=True, max_length=20, verbose_name='Conta')),
                ('pix', models.CharField(blank=True, max_length=100, verbose_name='Chave PIX')),
                ('comprovante', models.FileField(blank=True, null=True, upload_to='comprovantes/%Y/%m/', verbose_name='Comprovante')),
                ('nota_fiscal', models.FileField(blank=True, null=True, upload_to='notas_fiscais/%Y/%m/', verbose_name='Nota Fiscal')),
                ('contrato', models.FileField(blank=True, null=True, upload_to='contratos/%Y/%m/', verbose_name='Contrato/Recibo')),
                ('parcela_atual', models.IntegerField(default=1, verbose_name='Parcela Atual')),
                ('total_parcelas', models.IntegerField(default=1, verbose_name='Total de Parcelas')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('enviar_lembrete', models.BooleanField(default=True, verbose_name='Enviar Lembrete')),
                ('dias_lembrete', models.IntegerField(default=3, verbose_name='Dias para Lembrete')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('atualizado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='financeiro_atualizado', to=settings.AUTH_USER_MODEL)),
                ('cliente', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='financeiro', to='core.cliente')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='financeiro_criado', to=settings.AUTH_USER_MODEL)),
                ('escritorio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='financeiro', to='core.escritorio')),
                ('processo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='financeiro', to='core.processo')),
            ],
            options={
                'verbose_name': 'Lançamento Financeiro',
                'verbose_name_plural': 'Lançamentos Financeiros',
                'ordering': ['-data_vencimento', '-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='Entrevista',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('presencial', 'Presencial'), ('online', 'Online'), ('telefonica', 'Telefônica'), ('outro', 'Outro')], default='presencial', max_length=20, verbose_name='Tipo de Entrevista')),
                ('status', models.CharField(choices=[('agendada', 'Agendada'), ('confirmada', 'Confirmada'), ('realizada', 'Realizada'), ('cancelada', 'Cancelada'), ('adiada', 'Adiada')], default='agendada', max_length=20, verbose_name='Status')),
                ('data', models.DateField(verbose_name='Data da Entrevista')),
                ('hora_inicio', models.TimeField(verbose_name='Hora de Início')),
                ('hora_fim', models.TimeField(blank=True, null=True, verbose_name='Hora de Fim')),
                ('local', models.CharField(blank=True, max_length=200, verbose_name='Local')),
                ('endereco', models.TextField(blank=True, verbose_name='Endereço Completo')),
                ('link_videoconferencia', models.URLField(blank=True, max_length=500, verbose_name='Link da Videoconferência')),
                ('assunto', models.CharField(max_length=200, verbose_name='Assunto')),
                ('objetivo', models.TextField(blank=True, verbose_name='Objetivo')),
                ('relato', models.TextField(verbose_name='Relato da Entrevista')),
                ('documentos_apresentados', models.TextField(blank=True, verbose_name='Documentos Apresentados')),
                ('acordos', models.TextField(blank=True, verbose_name='Acordos/Combinações')),
                ('proximos_passos', models.TextField(blank=True, verbose_name='Próximos Passos')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('acompanhantes', models.TextField(blank=True, verbose_name='Acompanhantes')),
                ('gravacao', models.FileField(blank=True, null=True, upload_to='entrevistas/gravacoes/', verbose_name='Gravação')),
                ('anexos', models.FileField(blank=True, null=True, upload_to='entrevistas/anexos/', verbose_name='Anexos')),
                ('ata', models.FileField(blank=True, null=True, upload_to='entrevistas/atas/', verbose_name='Ata/Resumo')),
                ('confimado_por_cliente', models.BooleanField(default=False, verbose_name='Confirmado pelo Cliente')),
                ('cliente_compareceu', models.BooleanField(default=False, verbose_name='Cliente Compareceu')),
                ('gerou_processo', models.BooleanField(default=False, verbose_name='Gerou Processo')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='entrevistas', to='core.cliente')),
                ('usuario', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='entrevistas_realizadas', to=settings.AUTH_USER_MODEL, verbose_name='Advogado/Responsável')),
            ],
            options={
                'verbose_name': 'Entrevista',
                'verbose_name_plural': 'Entrevistas',
                'ordering': ['-data', '-hora_inicio'],
            },
        ),
        migrations.CreateModel(
            name='ConversaWhatsApp',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero_contato', models.CharField(max_length=20, verbose_name='Número do Contato')),
                ('nome_contato', models.CharField(blank=True, max_length=100, verbose_name='Nome do Contato')),
                ('aberta', models.BooleanField(default=True, verbose_name='Aberta')),
                ('arquivada', models.BooleanField(default=False, verbose_name='Arquivada')),
                ('resolvida', models.BooleanField(default=False, verbose_name='Resolvida')),
                ('total_mensagens', models.IntegerField(default=0, verbose_name='Total de Mensagens')),
                ('mensagens_nao_lidas', models.IntegerField(default=0, verbose_name='Mensagens Não Lidas')),
                ('primeira_mensagem', models.DateTimeField(blank=True, null=True, verbose_name='Primeira Mensagem')),
                ('ultima_mensagem', models.DateTimeField(blank=True, null=True, verbose_name='Última Mensagem')),
                ('tags', models.CharField(blank=True, help_text='Separadas por vírgula', max_length=200, verbose_name='Tags')),
                ('criada_em', models.DateTimeField(auto_now_add=True, verbose_name='Criada em')),
                ('atualizada_em', models.DateTimeField(auto_now=True, verbose_name='Atualizada em')),
                ('cliente', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='conversas', to='core.cliente')),
                ('processo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='conversas', to='core.processo')),
                ('usuario_atribuido', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='conversas_atribuidas', to=settings.AUTH_USER_MODEL)),
                ('whatsapp_config', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conversas', to='core.whatsappconfig')),
            ],
            options={
                'verbose_name': 'Conversa WhatsApp',
                'verbose_name_plural': 'Conversas WhatsApp',
                'ordering': ['-ultima_mensagem', '-aberta'],
            },
        ),
        migrations.AddField(
            model_name='contratohonorarios',
            name='processo',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='contrato_honorarios', to='core.processo'),
        ),
        migrations.AddField(
            model_name='cliente',
            name='escritorio',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='clientes', to='core.escritorio'),
        ),
        migrations.CreateModel(
            name='Audiencia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('conciliação', 'Conciliação'), ('instrucao', 'Instrução'), ('julgamento', 'Julgamento'), ('sustentacao', 'Sustentação Oral'), ('outro', 'Outro')], default='conciliação', max_length=20, verbose_name='Tipo')),
                ('status', models.CharField(choices=[('agendada', 'Agendada'), ('realizada', 'Realizada'), ('adiada', 'Adiada'), ('cancelada', 'Cancelada')], default='agendada', max_length=20, verbose_name='Status')),
                ('data', models.DateField(verbose_name='Data da Audiência')),
                ('hora', models.TimeField(blank=True, null=True, verbose_name='Hora')),
                ('local', models.CharField(max_length=300, verbose_name='Local')),
                ('sala', models.CharField(blank=True, max_length=100, verbose_name='Sala')),
                ('juiz', models.CharField(blank=True, max_length=200, verbose_name='Juiz')),
                ('presentes', models.TextField(blank=True, verbose_name='Presentes')),
                ('resultado', models.TextField(blank=True, verbose_name='Resultado')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('ata', models.FileField(blank=True, null=True, upload_to='audiencias/', verbose_name='Ata da Audiência')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('criado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('processo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='audiencias', to='core.processo')),
            ],
            options={
                'verbose_name': 'Audiência',
                'verbose_name_plural': 'Audiências',
                'ordering': ['data', 'hora'],
            },
        ),
        migrations.CreateModel(
            name='Anotacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200, verbose_name='Título')),
                ('conteudo', models.TextField(verbose_name='Conteúdo')),
                ('categoria', models.CharField(choices=[('contato', 'Contato'), ('reuniao', 'Reunião'), ('documento', 'Documento'), ('financeiro', 'Financeiro'), ('processo', 'Processo'), ('outro', 'Outro')], default='outro', max_length=50, verbose_name='Categoria')),
                ('importante', models.BooleanField(default=False, verbose_name='Importante')),
                ('privada', models.BooleanField(default=False, help_text='Somente o usuário criador pode visualizar', verbose_name='Privada')),
                ('data_referencia', models.DateField(blank=True, null=True, verbose_name='Data de Referência')),
                ('lembrar_em', models.DateTimeField(blank=True, null=True, verbose_name='Lembrar em')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('cliente', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='anotacoes', to='core.cliente')),
                ('usuario', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Usuário')),
            ],
            options={
                'verbose_name': 'Anotação',
                'verbose_name_plural': 'Anotações',
                'ordering': ['-importante', '-criado_em'],
            },
        ),
        migrations.AddField(
            model_name='andamento',
            name='processo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='andamentos', to='core.processo'),
        ),
        migrations.AddField(
            model_name='andamento',
            name='usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='andamentos_registrados', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='usuario',
            name='escritorio',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='usuarios', to='core.escritorio', verbose_name='Escritório'),
        ),
        migrations.AddField(
            model_name='usuario',
            name='groups',
            field=models.ManyToManyField(blank=True, help_text='Grupos aos quais este usuário pertence', related_name='usuario_set', related_query_name='usuario', to='auth.group', verbose_name='Grupos'),
        ),
        migrations.AddField(
            model_name='usuario',
            name='user_permissions',
            field=models.ManyToManyField(blank=True, help_text='Permissões específicas para este usuário', related_name='usuario_set', related_query_name='usuario', to='auth.permission', verbose_name='Permissões de usuário'),
        ),
        migrations.AddIndex(
            model_name='whatsappconfig',
            index=models.Index(fields=['escritorio', 'ativo'], name='core_whatsa_escrito_a40200_idx'),
        ),
        migrations.AddIndex(
            model_name='whatsappconfig',
            index=models.Index(fields=['status', 'ativo'], name='core_whatsa_status_292aa1_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='whatsappconfig',
            unique_together={('escritorio', 'numero_telefone')},
        ),
        migrations.AddIndex(
            model_name='processo',
            index=models.Index(fields=['numero_cnj'], name='core_proces_numero__41291c_idx'),
        ),
        migrations.AddIndex(
            model_name='processo',
            index=models.Index(fields=['escritorio', 'situacao'], name='core_proces_escrito_378562_idx'),
        ),
        migrations.AddIndex(
            model_name='processo',
            index=models.Index(fields=['cliente', 'situacao'], name='core_proces_cliente_d14d1f_idx'),
        ),
        migrations.AddIndex(
            model_name='processo',
            index=models.Index(fields=['advogado_responsavel', 'situacao'], name='core_proces_advogad_acdb9d_idx'),
        ),
        migrations.AddIndex(
            model_name='processo',
            index=models.Index(fields=['tipo', 'situacao'], name='core_proces_tipo_4ce06d_idx'),
        ),
        migrations.AddIndex(
            model_name='prazo',
            index=models.Index(fields=['processo', 'status', 'data_limite'], name='core_prazo_process_38cf16_idx'),
        ),
        migrations.AddIndex(
            model_name='prazo',
            index=models.Index(fields=['responsavel', 'status', 'data_limite'], name='core_prazo_respons_ea45f0_idx'),
        ),
        migrations.AddIndex(
            model_name='prazo',
            index=models.Index(fields=['status', 'data_limite'], name='core_prazo_status_971905_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='parcelahonorarios',
            unique_together={('contrato', 'numero')},
        ),
        migrations.AddIndex(
            model_name='mensagemwhatsapp',
            index=models.Index(fields=['whatsapp_config', 'numero_contato', '-criado_em'], name='core_mensag_whatsap_8a737b_idx'),
        ),
        migrations.AddIndex(
            model_name='mensagemwhatsapp',
            index=models.Index(fields=['cliente', '-criado_em'], name='core_mensag_cliente_0d762e_idx'),
        ),
        migrations.AddIndex(
            model_name='mensagemwhatsapp',
            index=models.Index(fields=['direcao', 'status', 'lida'], name='core_mensag_direcao_055b78_idx'),
        ),
        migrations.AddIndex(
            model_name='mensagemwhatsapp',
            index=models.Index(fields=['message_id'], name='core_mensag_message_5302a2_idx'),
        ),
        migrations.AddIndex(
            model_name='fluxochatbot',
            index=models.Index(fields=['escritorio', 'ativo'], name='core_fluxoc_escrito_884219_idx'),
        ),
        migrations.AddIndex(
            model_name='fluxochatbot',
            index=models.Index(fields=['tipo', 'ativo'], name='core_fluxoc_tipo_ed2bdb_idx'),
        ),
        migrations.AddIndex(
            model_name='financeiro',
            index=models.Index(fields=['escritorio', 'tipo', 'status'], name='core_financ_escrito_9adb4e_idx'),
        ),
        migrations.AddIndex(
            model_name='financeiro',
            index=models.Index(fields=['cliente', 'status'], name='core_financ_cliente_e78d0f_idx'),
        ),
        migrations.AddIndex(
            model_name='financeiro',
            index=models.Index(fields=['processo', 'tipo'], name='core_financ_process_aceb2a_idx'),
        ),
        migrations.AddIndex(
            model_name='financeiro',
            index=models.Index(fields=['data_vencimento', 'status'], name='core_financ_data_ve_c71c26_idx'),
        ),
        migrations.AddIndex(
            model_name='financeiro',
            index=models.Index(fields=['categoria', 'status'], name='core_financ_categor_fc92e1_idx'),
        ),
        migrations.AddIndex(
            model_name='entrevista',
            index=models.Index(fields=['cliente', '-data'], name='core_entrev_cliente_ba1ac9_idx'),
        ),
        migrations.AddIndex(
            model_name='entrevista',
            index=models.Index(fields=['usuario', 'status'], name='core_entrev_usuario_f1f73c_idx'),
        ),
        migrations.AddIndex(
            model_name='entrevista',
            index=models.Index(fields=['status', 'data'], name='core_entrev_status_5443f2_idx'),
        ),
        migrations.AddIndex(
            model_name='conversawhatsapp',
            index=models.Index(fields=['whatsapp_config', 'aberta', '-ultima_mensagem'], name='core_conver_whatsap_370302_idx'),
        ),
        migrations.AddIndex(
            model_name='conversawhatsapp',
            index=models.Index(fields=['cliente', '-ultima_mensagem'], name='core_conver_cliente_5a3e5e_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='conversawhatsapp',
            unique_together={('whatsapp_config', 'numero_contato')},
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['escritorio', 'nome'], name='core_client_escrito_820b5b_idx'),
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['cpf_cnpj'], name='core_client_cpf_cnp_ea6997_idx'),
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['tipo', 'ativo'], name='core_client_tipo_181822_idx'),
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['ativo', 'cliente_preferencial'], name='core_client_ativo_ed90d4_idx'),
        ),
        migrations.AddIndex(
            model_name='audiencia',
            index=models.Index(fields=['processo', 'data'], name='core_audien_process_e3c9c3_idx'),
        ),
        migrations.AddIndex(
            model_name='audiencia',
            index=models.Index(fields=['status', 'data'], name='core_audien_status_f3fcd4_idx'),
        ),
        migrations.AddIndex(
            model_name='anotacao',
            index=models.Index(fields=['cliente', '-criado_em'], name='core_anotac_cliente_b2b919_idx'),
        ),
        migrations.AddIndex(
            model_name='anotacao',
            index=models.Index(fields=['usuario', 'importante'], name='core_anotac_usuario_335790_idx'),
        ),
        migrations.AddIndex(
            model_name='andamento',
            index=models.Index(fields=['processo', '-data'], name='core_andame_process_65058c_idx'),
        ),
        migrations.AddIndex(
            model_name='andamento',
            index=models.Index(fields=['tipo', 'data'], name='core_andame_tipo_0b3a9e_idx'),
        ),
    ]
